from __future__ import print_function
import json
import sys
import enum
from prettytable import PrettyTable
x=PrettyTable()

## Reading file as command argument

with open(sys.argv[1]) as data_file:
    data = json.load(data_file)

## Printing the menu for Customer.

for index,value in enumerate(sorted(data['nodes'][0].keys())):
    print(index,value.encode("ascii"))

## Getting the input from Customer.

inputvalues=raw_input("Enter the comma separated numeric values. ")

## Print the output as per user input.

def display(inputlistarguments):
    x.field_names=inputlistarguments
    for i in range(0,len(data['nodes'])):
      x.add_row([data['nodes'][i][eachargument] \
                if type(data['nodes'][i][eachargument]) != list else data['nodes'][i][eachargument][0] \
                for eachargument in inputlistarguments])
    print(x.get_string())

## Call display fun. as per user input

def show(inputlist):
    parameter=[]
    for eachvalue in inputlist:
      parameter.append(sorted((data['nodes'][0].keys()))[int(eachvalue)])
    display(parameter)

## Splitting the comma separated userinput into a list and calling show function.

def input_validation():
  for each_input_number in inputvalues.split(','):
      assert(int(each_input_number) >= 0)
      try:
        if (len(sorted(data['nodes'][0].keys()))-1) > each_input_number:
          break
      except ValueError:
          pass
  show(inputvalues.split(','))

input_validation()
